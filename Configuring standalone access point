

    Creado por Deniss M., actualizado por última vez el may 20, 2025 6 min de lectura

    Overview
    Access point setup
        2.4 GHz interface configuration
        5 GHz interface configuration
        Optional step - adding virtual interface
        Bridging and listing
        DHCP

Overview

Package: wifi-qcom

This guide is meant for 802.11 AX devices running wifi-qcom package/drivers.

Wi-Fi devices can play different roles. The most common device, almost every household has, is called a Wi-Fi router. A typical Wi-Fi router, usually, has a WAN port (for ISP connection), LAN ports (for local PCs, wired printers etc) and a WLAN network (Wi-Fi network). Routers are also called "gateways" and "firewalls", because they act as a "doorway" for your local network clients into the internet (those devices "hide" LAN connected clients behind them and protect them).
Router → is a firewall/gateway device, which has an ISP cable connected to it, is firewall protected and has DHCP-server functionality enabled (which provides IP address to the connected, both wirelessly and via a wire, LAN clients).

Another role for a Wi-Fi device, is called an "access point" or an "AP" for short. Those devices, typically, are connected to the main "router/gateway/firewall" via an ethernet connection (to the router's LAN port), they are not firewall protected, and do not have DHCP-server functionality enabled (they do not provide IP addresses). APs have all their Wi-Fi and LAN interfaces/ports bridged, and thus, APs "take" IP address from the router connection, and "pass" them down to AP-connected clients (acting as a "layer2" bridge/switch).
Access point → are "bridge" devices, which are connected to the router using an Ethernet cable, they are not firewall protected, and they have DHCP-server functionality disabled (they "bridge" DHCP requests from the router to AP's clients).

In other words, a Wi-Fi router is an AP with additional functionality.

APs (devices that broadcast Wi-Fi networks) run on 2.4 and/or 5 GHz frequency. 5 GHz networks enable a much better throughput, but with reduced range. 2.4 GHz networks ensure a better coverage, but with less throughput.

Indoor APs are, usually, equipped with omnidirectional antennas (which allow broadcasting the signal in a "donut" shape around the AP, 360°). For indoor and short distance outdoor installations, it is a perfect antenna to use. Using a simple home AP with omnidirection antennas, you can achieve a distance of up to ±100 meters in an "ideal" interference-free line of sight setup. Which is reduced much further inside buildings. Concrete, pipes, metal, water...and all kinds of other different materials affect WiFi indoors. Some items can absorb, some deflect, some diffract and some can scatter the signal.

With that in mind, it is not always possible to cover the required range with a single AP/router, and additional APs need to be installed. Meaning, that if you have a problematic spot in your home, where Wi-Fi signal is poor or non-existent, consider installing a new AP closer to the problematic spot.

This guide is meant for a "basic" or a so-called "standalone" AP setup. You can use it, if you have a 3d-party vendor Wi-Fi router (non-MikroTik), if you have a legacy Wi-Fi 5 (AC) MikroTik router, or if your previous setup did not have any Wi-Fi APs at all.

For setups that consist of wifi-qcom package/driver APs, use CAPSMAN management, as it enables 802.11 r/k/v roaming standards, which smoothen client's transition.

Non-802.11 r/k/v roaming!

In "standalone" AP setups, if you simply copy SSID name from your router settings and configure the AP to broadcast the same SSID name →  roaming will be purely client dependent.

Roaming is when your client device transitions between different APs which use the same WiFi name. There are standards that can help "accelerate" and "smoothen" the transition (like 802.11 r/k/v) but, unfortunately, they can not be used in this setup (because there is no "manager" device) and so, the decision, "to roam" or "not to roam" is up to the client fully. Different vendors have different algorithms implemented that decide how and when your client device should switch.

Keep that in mind! Some devices, that have a good algorithm (decision-making), will roam properly, while others might stick to a poor signal (furthest) AP.

Most, if not all, of our MikroTik Wi-Fi devices come pre-configured in the "router" role. This guide will show you how to turn them into standalone AP role devices (layer2 bridged APs).
Access point setup

Because we will be changing Wi-Fi and port-related configurations, it is advised to connect to the device's settings via Ethernet port/cable, using MAC-address. You can use Winbox "Neighbors" tab and double-click on the MAC-address of the device in the list. This way, you will not lose access later on when changing interface-related settings.

Overall configuration:
/interface wifi
set [ find default-name=wifi2 ] configuration.mode=ap .ssid=router.ssid.2 disabled=no security.authentication-types=wpa2-psk .passphrase=router.password
set [ find default-name=wifi1 ] configuration.mode=ap .ssid=router.ssid.5 disabled=no security.authentication-types=wpa2-psk .passphrase=router.password
add configuration.mode=ap .ssid=guest.ssid.2 disabled=no master-interface=wifi2 name=wifi3 security.authentication-types=wpa2-psk .passphrase=guest.password
/interface list
add comment=defconf name=WAN
add comment=defconf name=LAN
/interface bridge
add auto-mac=no comment=defconf name=bridge
/interface bridge port
add interface=all bridge=bridge 
/interface list member
add comment=defconf interface=bridge list=LAN
/ip dhcp-client
add interface=bridge
2.4 GHz interface configuration
/interface wifi
set [ find default-name=wifi2 ] configuration.mode=ap .ssid=router.ssid.2 disabled=no security.authentication-types=wpa2-psk .passphrase=router.password

    configuration.mode=ap → configures interface to work in "access point" mode.
    ssid=router.ssid.2 → configures wireless network name (SSID), which the AP needs to broadcast. It can be the same network name as the main router uses, or it can be a different name. For testing, better use a "unique" name so you can differentiate networks. For "client roaming" to happen, use the exact same WiFi name from the router settings.
    security.authentication-types=wpa2-psk → select which authentication types to use. For "client roaming" to happen, use the exact same authentication type from the router settings.
    passphrase=router.password → sets password from the AP's WiFi network. For "client roaming" to happen, use the exact same password from the router settings.

5 GHz interface configuration
/interface wifi
set [ find default-name=wifi1 ] configuration.mode=ap .ssid=router.ssid.5 disabled=no security.authentication-types=wpa2-psk .passphrase=router.password

    configuration.mode=ap → configures interface to work in "access point" mode.
    ssid=router.ssid5 → configures wireless network name (SSID), which the AP needs to broadcast. It can be the same network name as the main router uses, or it can be a different name. For testing, better use a "unique" name so you can differentiate networks. For "client roaming" to happen, use the exact same WiFi name from the router settings.
    security.authentication-types=wpa2-psk → select which authentication types to use. For "client roaming" to happen, use the exact same authentication type from the router settings.
    passphrase=router.password → sets password from the AP's WiFi network. For "client roaming" to happen, use the exact same password from the router settings.

Optional step - adding virtual interface

In case, you want to create an additional network (an additional SSID name), you can create a virtual interface on top of another interface:
/interface wifi
add configuration.mode=ap .ssid=guest.ssid.2 disabled=no master-interface=wifi2 name=wifi3 security.authentication-types=wpa2-psk .passphrase=guest.password

    configuration.mode=ap → ensures that it will act as an "access point" interface.
    ssid=guest.ssid2 → configures wireless network name (SSID), which the AP needs to broadcast. For "client roaming" to happen, use the exact same WiFi name from the router settings.
    master-interface=wifi2 → specify, which interface to "base" the "virtual" interface on (specify on-top of which interface to create it).
    name=wifi3 → name the virtual interface.
    security.authentication-types=wpa2-psk → select which authentication types to use. For "client roaming" to happen, use the exact same authentication type from the router settings.
    passphrase=guest.password → sets password from the AP's WiFi network. For "client roaming" to happen, use the exact same password from the router settings.

The virtual interface will use the exact same frequency channel, which is used by the master interface. Wi-Fi frequency channel for this interface can not be changed.
Bridging and listing

Bridge all ports:
/interface bridge
add auto-mac=no comment=defconf name=bridge
/interface bridge port
add interface=all bridge=bridge 

And, ensure, that the bridge is listed as "LAN" interface, so that the firewall rules do not block access to the AP's management:
/interface list member
add comment=defconf interface=bridge list=LAN

That is, of course, if you have proper firewall and access restrictions added on the main router. Otherwise, restrict it.
DHCP
/ip dhcp-client
add interface=bridge

Apply DHCP-client on top of the bridge interface, so that the AP itself and all its connected clients get IP addresses from the main router.

